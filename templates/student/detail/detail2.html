{% extends 'layout.html' %}
{% block styles %}
    {{ super() }}
    <style>
        {#        div {#}
        {#            border: 1px solid black;#}
        {#        }#}
    </style>
{% endblock %}
{% block content %}
    {% block scripts %}
        <script src='https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.3.0/Chart.min.js'></script>
        <script>
            var subjects = {{ student.get_subjects_json()|safe }};
            var marksData = {
                labels: Object.keys(subjects),
                datasets: [{
                    label: 'Успеваемость студента',
                    data: Object.values(subjects),
                    backgroundColor: [
                        'rgba(255, 159, 64, 0.2)'
                    ],
                    borderColor: [
                        'rgba(255, 159, 64, 1)'
                    ],
                    borderWidth: 1
                }]
            };
            var marks = document.getElementById('marks').getContext('2d');
            new Chart(marks, {
                type: 'radar',
                data: marksData,
                options: {
                    responsive: false,
                    scale: {
                        ticks: {
                            beginAtZero: true
                        }
                    }
                }
            });

        </script>
    {% endblock %}
    <div class="container-fluid text-center">
        <div class="row content">
            <div class="col-sm-2 sidenav">
                <p></p>
            </div>
            <div class="col-sm-8 text-left">
                <div class="container-fluid well">
                    <div class="container">
                        <div class="row">
                            <div class="col-sm-12"></div>
                            <div class="col-sm-4 "><img
                                    src="{{ url_for('static', filename='photos/no-profile-img.gif') }}"></div>
                            <div class="col-sm-8">
                                <div class="row">
                                    <div class="col-sm-3"> Фамилия:</div>
                                    <div class="col-sm-9"> {{ student.user.second_name }} </div>
                                    <div class="col-sm-3"> Имя:</div>
                                    <div class="col-sm-9"> {{ student.user.name }} </div>
                                    <div class="col-sm-3"> Отчество:</div>
                                    <div class="col-sm-9"> {{ student.user.middle_name }} </div>
                                    <div class="col-md-3"> Дата рождения:</div>
                                    <div class="col-md-9"> {{ student.user.birthday.strftime('%Y %m %d') }}</div>
                                    <div class="col-md-3"> Группа:</div>
                                    <div class="col-md-9"> {{ student.group.name }}</div>
                                    <div class="col-md-3"> Дата поступления:</div>
                                    <div class="col-md-9"> {{ student.receipt_trimester.start_date.strftime('%Y %m %d') }}</div>
                                    <div class="col-md-3"> Средний бал:</div>
                                    <div class="col-md-9"> {{ student.get_avg_mark() }}</div>
                                </div>
                            </div>
                            <div class="clearfix"></div>
                            <div class="col-sm-12">
                                <div id="canvas-container">
                                    <canvas id="marks" width="900" height="400"></canvas>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-sm-2 sidenav">
                <p></p>
            </div>
        </div>
    </div>
{% endblock %}